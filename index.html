<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PC Optimum</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            background-color: #f5f5f5;
            min-height: 100vh;
        }

        .header {
            background: linear-gradient(135deg, #D71920 0%, #B91419 100%);
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .time {
            font-size: 14px;
        }

        .icons {
            display: flex;
            gap: 15px;
            font-size: 18px;
        }

        .tab-bar {
            background: white;
            display: flex;
            border-bottom: 2px solid #e0e0e0;
        }

        .tab {
            flex: 1;
            text-align: center;
            padding: 15px;
            font-size: 16px;
            color: #666;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }

        .tab.active {
            color: #D71920;
            border-bottom: 3px solid #D71920;
            font-weight: 600;
        }

        .points-summary {
            background: white;
            padding: 25px 20px;
            margin-bottom: 10px;
        }

        .greeting {
            font-size: 14px;
            color: #666;
            margin-bottom: 5px;
        }

        .points-total {
            font-size: 32px;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .points-label {
            font-size: 14px;
            color: #666;
        }

        .redeemable {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-top: 8px;
            font-size: 13px;
            color: #D71920;
        }

        .campaign-banner {
            background: linear-gradient(135deg, #7B2CBF 0%, #5A189A 100%);
            margin: 10px 20px;
            padding: 25px 20px;
            border-radius: 12px;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(123, 44, 191, 0.3);
            position: relative;
            overflow: hidden;
        }

        .campaign-banner:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(123, 44, 191, 0.4);
        }

        .campaign-banner::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: pulse 3s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.1); opacity: 0.3; }
        }

        .banner-emoji {
            font-size: 36px;
            margin-bottom: 10px;
        }

        .banner-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .banner-hashtag {
            font-size: 20px;
            font-weight: bold;
            color: #FFD700;
            margin-bottom: 8px;
        }

        .banner-subtitle {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 12px;
        }

        .banner-cta {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 600;
            color: white;
            background: rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

        .transaction-section {
            background: white;
            margin: 10px 20px;
            padding: 20px;
            border-radius: 12px;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .section-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
        }

        .section-days {
            font-size: 12px;
            color: #999;
        }

        .transaction-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .transaction-item:last-child {
            border-bottom: none;
        }

        .transaction-icon {
            width: 40px;
            height: 40px;
            background: #FFE5E5;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            margin-right: 15px;
        }

        .transaction-info {
            flex: 1;
        }

        .transaction-name {
            font-size: 14px;
            color: #333;
            font-weight: 500;
            margin-bottom: 2px;
        }

        .transaction-points {
            font-size: 16px;
            font-weight: 600;
            color: #D71920;
        }

        .arrow {
            color: #ccc;
            font-size: 18px;
        }

        /* Campaign Modal */
        .campaign-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: white;
            z-index: 1000;
            overflow-y: auto;
            display: none;
            animation: slideUp 0.4s ease-out;
        }

        .campaign-modal.active {
            display: block;
        }

        @keyframes slideUp {
            from {
                transform: translateY(100%);
            }
            to {
                transform: translateY(0);
            }
        }

        .modal-header {
            background: linear-gradient(135deg, #7B2CBF 0%, #5A189A 100%);
            color: white;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .back-btn {
            font-size: 24px;
            cursor: pointer;
            padding: 5px;
        }

        .modal-title {
            font-size: 18px;
            font-weight: 600;
        }

        .modal-points {
            font-size: 16px;
            color: #FFD700;
        }

        .campaign-content {
            padding: 30px 20px;
        }

        .stage-title {
            font-size: 28px;
            font-weight: bold;
            color: #7B2CBF;
            text-align: center;
            margin-bottom: 10px;
        }

        .stage-subtitle {
            font-size: 16px;
            color: #666;
            text-align: center;
            margin-bottom: 40px;
        }

        .grocery-list {
            max-width: 400px;
            margin: 0 auto 40px;
            background: #f9f9f9;
            padding: 25px;
            border-radius: 12px;
        }

        .list-item {
            display: flex;
            align-items: center;
            padding: 15px;
            margin: 10px 0;
            background: white;
            border-radius: 8px;
            font-size: 18px;
        }

        .checkmark {
            font-size: 24px;
            width: 40px;
            font-weight: bold;
        }

        .check-green { color: #2E7D32; }
        .check-red { color: #7B2CBF; }

        .item-text {
            flex: 1;
        }

        .missing {
            color: #7B2CBF;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .missing:hover {
            color: #5A189A;
            transform: scale(1.05);
        }

        .cta-text {
            text-align: center;
            font-size: 18px;
            color: #666;
            font-style: italic;
            margin: 30px 0 10px;
        }

        .hint {
            text-align: center;
            font-size: 14px;
            color: #999;
        }

        .awareness-section {
            text-align: center;
            padding: 40px 20px;
        }

        .brain-icon {
            font-size: 80px;
            margin-bottom: 20px;
        }

        .awareness-title {
            font-size: 24px;
            color: #7B2CBF;
            font-weight: bold;
            margin-bottom: 20px;
            line-height: 1.4;
        }

        .btn {
            background: #7B2CBF;
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 16px;
            font-weight: 600;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(123, 44, 191, 0.3);
        }

        .btn:hover {
            background: #5A189A;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(123, 44, 191, 0.4);
        }

        .comparison-table {
            margin: 30px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        th {
            padding: 15px;
            text-align: left;
            font-weight: 600;
            font-size: 14px;
        }

        th:nth-child(1) { background: #f5f5f5; color: #333; }
        th:nth-child(2) { background: #FFE5F3; color: #7B2CBF; }
        th:nth-child(3) { background: #E8F5E9; color: #2E7D32; }

        td {
            padding: 15px;
            border-bottom: 1px solid #f0f0f0;
            font-size: 13px;
        }

        td:nth-child(1) { font-weight: 600; background: #fafafa; }
        td:nth-child(2) { background: #FFF8FC; }
        td:nth-child(3) { background: #F8FFF8; }

        .cta-box {
            background: linear-gradient(135deg, #7B2CBF 0%, #5A189A 100%);
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            color: white;
            margin: 30px 0;
        }

        .cta-box-title {
            font-size: 22px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .btn-white {
            background: white;
            color: #7B2CBF;
        }

        .btn-white:hover {
            background: #f0f0f0;
        }

        .success-section {
            text-align: center;
            padding: 40px 20px;
        }

        .celebration-icon {
            font-size: 100px;
            margin-bottom: 20px;
        }

        .success-title {
            font-size: 36px;
            color: #2E7D32;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .hashtag {
            font-size: 28px;
            color: #7B2CBF;
            font-weight: bold;
            margin: 20px 0;
        }

        .next-steps {
            background: #f9f9f9;
            padding: 25px;
            border-radius: 12px;
            max-width: 500px;
            margin: 30px auto;
            text-align: left;
        }

        .next-steps h3 {
            font-size: 18px;
            margin-bottom: 15px;
            color: #333;
        }

        .next-steps ul {
            list-style: none;
        }

        .next-steps li {
            padding: 10px 0;
            color: #666;
            font-size: 14px;
        }

        .fade-out {
            animation: fadeOut 0.8s forwards;
        }

        @keyframes fadeOut {
            to {
                opacity: 0;
                transform: translateY(-20px);
            }
        }

        .hidden {
            display: none;
        }

        .quiz-container {
            max-width: 700px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        .quiz-progress {
            margin-bottom: 30px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #7B2CBF, #5A189A);
            width: 12.5%;
            transition: width 0.3s ease;
        }

        .progress-text {
            text-align: center;
            font-size: 14px;
            color: #666;
        }

        .quiz-question {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            min-height: 300px;
        }

        .question-title {
            font-size: 20px;
            color: #333;
            font-weight: 600;
            margin-bottom: 25px;
            line-height: 1.4;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .quiz-option {
            background: #f9f9f9;
            padding: 15px 20px;
            border-radius: 8px;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
        }

        .quiz-option:hover {
            background: #f0f0f0;
            border-color: #7B2CBF;
        }

        .quiz-option.selected {
            background: #F3E5FF;
            border-color: #7B2CBF;
            color: #5A189A;
            font-weight: 600;
        }

        .quiz-option input[type="checkbox"] {
            margin-right: 10px;
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .quiz-nav {
            text-align: center;
            margin-top: 30px;
        }

        #nextBtn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .checklist-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px;
            background: #f9f9f9;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .checklist-item input[type="checkbox"] {
            margin-top: 3px;
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .checklist-text {
            flex: 1;
            font-size: 15px;
            color: #333;
            line-height: 1.5;
        }

        @media (max-width: 768px) {
            .campaign-content {
                padding: 20px 15px;
            }

            table {
                font-size: 12px;
            }

            td, th {
                padding: 10px 8px;
            }
        }
    </style>
</head>
<body>
    <!-- Main App Interface -->
    <div id="mainApp">
        <div class="header">
            <div class="header-left">
                <span class="time">9:52</span>
            </div>
            <div class="icons">
                <span>üì∂</span>
                <span>üì∂</span>
                <span>üîã</span>
            </div>
        </div>

        <div class="tab-bar">
            <div class="tab">Rewards</div>
            <div class="tab active">Transactions</div>
        </div>

        <div class="points-summary">
            <div class="greeting">Good afternoon, J</div>
            <div class="points-total">175,308<span style="font-size: 20px; font-weight: normal;">pts</span></div>
            <div class="redeemable">
                üíé Redeemable value $175
            </div>
        </div>

        <!-- Campaign Banner -->
        <div class="campaign-banner" onclick="openCampaign()">
            <div class="banner-emoji">üß†</div>
            <div class="banner-hashtag">#KnowYourList</div>
            <div class="banner-title">The List Worth Noticing</div>
            <div class="banner-subtitle">Learn about Alzheimer's awareness and earn 500 points</div>
            <div class="banner-cta">
                Start Campaign ‚Üí
            </div>
        </div>

        <div class="transaction-section">
            <div class="section-header">
                <span class="section-title">Recent transactions</span>
                <span class="section-days">In the past 30 days</span>
            </div>

            <div class="transaction-item">
                <div class="transaction-icon">üè™</div>
                <div class="transaction-info">
                    <div class="transaction-name">Loblaws</div>
                    <div class="transaction-points">376,110 pts</div>
                </div>
                <div class="arrow">‚Ä∫</div>
            </div>

            <div class="transaction-item">
                <div class="transaction-icon">üè†</div>
                <div class="transaction-info">
                    <div class="transaction-name">Shoppers Drug Mart</div>
                    <div class="transaction-points">45,235 pts</div>
                </div>
                <div class="arrow">‚Ä∫</div>
            </div>

            <div class="transaction-item">
                <div class="transaction-icon">üõí</div>
                <div class="transaction-info">
                    <div class="transaction-name">No Frills</div>
                    <div class="transaction-points">4,950 pts</div>
                </div>
                <div class="arrow">‚Ä∫</div>
            </div>

            <div class="transaction-item">
                <div class="transaction-icon">‚õΩ</div>
                <div class="transaction-info">
                    <div class="transaction-name">Esso</div>
                    <div class="transaction-points">200 pts</div>
                </div>
                <div class="arrow">‚Ä∫</div>
            </div>
        </div>
    </div>

    <!-- Campaign Modal -->
    <div class="campaign-modal" id="campaignModal">
        <div class="modal-header">
            <div class="back-btn" onclick="closeCampaign()">‚Üê</div>
            <div class="modal-title">#KnowYourList</div>
            <div class="modal-points" id="modalPoints">0 pts</div>
        </div>

        <div class="campaign-content">
            <!-- Stage 1: Grocery List -->
            <div id="stage1">
                <div class="stage-title">#KnowYourList</div>
                <div class="stage-subtitle">Check your shopping list</div>

                <div class="grocery-list">
                    <div class="list-item">
                        <span class="checkmark check-green">‚úì</span>
                        <span class="item-text">Eggs</span>
                    </div>
                    <div class="list-item">
                        <span class="checkmark check-green">‚úì</span>
                        <span class="item-text">Milk</span>
                    </div>
                    <div class="list-item" id="missingItem">
                        <span class="checkmark check-red">‚úñ</span>
                        <span class="item-text missing">Bread</span>
                    </div>
                </div>

                <div class="cta-text">ü§î Can you spot what's missing?</div>
                <div class="hint">Tap the missing item to continue</div>
            </div>

            <!-- Stage 2: Awareness -->
            <div id="stage2" class="hidden">
                <div class="awareness-section">
                    <div class="brain-icon">üß†</div>
                    <div class="awareness-title">
                        Sometimes missing items<br>mean more than groceries
                    </div>
                    <div class="stage-subtitle">
                        Noticing what's missing can be important.
                    </div>
                    <button class="btn" onclick="showComparison()">Learn More</button>
                </div>
            </div>

            <!-- Stage 3: Comparison -->
            <div id="stage3" class="hidden">
                <div class="stage-title">Alzheimer's vs. Normal Aging</div>
                <div class="stage-subtitle">Understanding the difference matters</div>

                <div class="comparison-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Sign</th>
                                <th>Alzheimer's Warning</th>
                                <th>Normal Aging</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Memory Loss</td>
                                <td>Forgetting recently learned information</td>
                                <td>Occasionally forgetting names or appointments</td>
                            </tr>
                            <tr>
                                <td>Planning</td>
                                <td>Difficulty following a familiar recipe</td>
                                <td>Making occasional errors when managing finances</td>
                            </tr>
                            <tr>
                                <td>Daily Tasks</td>
                                <td>Trouble completing familiar tasks</td>
                                <td>Occasionally needing help with tech settings</td>
                            </tr>
                            <tr>
                                <td>Confusion</td>
                                <td>Losing track of dates and seasons</td>
                                <td>Forgetting what day it is, then remembering</td>
                            </tr>
                            <tr>
                                <td>Visual/Spatial</td>
                                <td>Difficulty reading or judging distance</td>
                                <td>Vision changes related to cataracts</td>
                            </tr>
                            <tr>
                                <td>Communication</td>
                                <td>Trouble following conversations</td>
                                <td>Sometimes having trouble finding the right word</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="cta-box">
                    <div class="cta-box-title">Take action today</div>
                    <div class="stage-subtitle" style="color: rgba(255,255,255,0.9); margin-bottom: 20px;">
                        Complete our memory awareness quiz
                    </div>
                    <button class="btn btn-white" onclick="openQuiz()">Take Quiz & Earn 500 Points</button>
                </div>
            </div>

            <!-- Stage 4: Quiz -->
            <div id="stage4" class="hidden">
                <div class="stage-title">Memory Awareness Quiz</div>
                <div class="stage-subtitle">Answer these questions to earn your 500 points</div>

                <div class="quiz-container">
                    <div class="quiz-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressBar"></div>
                        </div>
                        <div class="progress-text">Question <span id="currentQ">1</span> of <span id="totalQ">7</span></div>
                    </div>

                    <div class="quiz-question" id="quizContent">
                        <div class="question-title">Loading question...</div>
                    </div>

                    <div class="quiz-nav">
                        <button class="btn" id="nextBtn" onclick="nextQuestion()">Next Question</button>
                    </div>
                </div>
            </div>

            <!-- Stage 5: Success -->
            <div id="stage5" class="hidden">
                <div class="success-section">
                    <div class="celebration-icon">üéâ</div>
                    <div class="success-title">500 Points Earned!</div>
                    <div class="stage-subtitle">Thank you for learning about memory health</div>
                    <div class="hashtag">#KnowYourList</div>

                    <div class="next-steps">
                        <h3>Next Steps:</h3>
                        <ul>
                            <li>‚úì Talk to your doctor about memory concerns</li>
                            <li>‚úì Share this information with loved ones</li>
                            <li>‚úì Download our memory health checklist</li>
                        </ul>
                    </div>

                    <button class="btn" onclick="downloadChecklist()" style="margin: 10px;">üìÑ Download Checklist</button>
                    <button class="btn" onclick="closeCampaign()" style="background: #2E7D32;">Return to Home</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let campaignPoints = 0;
        let mainPoints = 175308;
        let currentQuestion = 0;
        let userAnswers = [];

        const quizQuestions = [
            {
                question: "What questions should you ask your Primary Care Physician about memory changes? (Select all that apply)",
                type: "multiple",
                options: [
                    "Are the memory changes I'm noticing normal?",
                    "What are the early warning signs of Alzheimer's disease?",
                    "Can I do baseline cognitive testing?",
                    "When should I follow-up?",
                    "How will this impact my family?"
                ]
            },
            {
                question: "As a caregiver, which behaviors might indicate memory concerns? (Select all that apply)",
                type: "multiple",
                options: [
                    "They forget items they always buy",
                    "They struggle with lists",
                    "They repeat the same question or story",
                    "Easily irritable or upset",
                    "Difficulty completing familiar tasks"
                ]
            },
            {
                question: "Which of these are important for brain-healthy habits?",
                type: "multiple",
                options: [
                    "Regular physical exercise",
                    "Social engagement and activities",
                    "Healthy diet rich in fruits and vegetables",
                    "Quality sleep and stress management",
                    "Mental stimulation and learning"
                ]
            },
            {
                question: "True or False: Forgetting names occasionally is always a sign of Alzheimer's disease.",
                type: "single",
                options: [
                    "True",
                    "False"
                ]
            },
            {
                question: "Which is MORE concerning as an Alzheimer's warning sign?",
                type: "single",
                options: [
                    "Occasionally forgetting where you put your keys",
                    "Inability to retrace steps to find a lost item",
                    "Sometimes forgetting a word mid-conversation"
                ]
            },
            {
                question: "What should you do if you notice concerning memory changes?",
                type: "single",
                options: [
                    "Ignore it, memory loss is just part of aging",
                    "Schedule an appointment with your doctor",
                    "Wait several years before doing anything"
                ]
            },
            {
                question: "When planning for the future, which steps are important? (Select all that apply)",
                type: "multiple",
                options: [
                    "Discuss concerns with family members",
                    "Create advance directives",
                    "Research support resources",
                    "Maintain brain-healthy habits",
                    "Schedule regular cognitive check-ups"
                ]
            }
        ];

        function loadQuestion(index) {
            console.log('Loading question:', index, quizQuestions[index]);
            
            if (index >= quizQuestions.length) {
                completeQuiz();
                return;
            }

            const q = quizQuestions[index];
            const content = document.getElementById('quizContent');
            
            if (!content) {
                console.error('Quiz content div not found!');
                return;
            }
            
            if (!q || !q.question) {
                console.error('Question not found:', index);
                return;
            }
            
            console.log('Building HTML for question:', q.question);
            
            let html = `<div class="question-title">${q.question}</div>`;
            html += `<div class="quiz-options">`;

            if (q.type === "multiple") {
                q.options.forEach((option, i) => {
                    html += `
                        <label class="quiz-option">
                            <input type="checkbox" name="q${index}" value="${i}" onchange="handleMultipleChoice()">
                            ${option}
                        </label>
                    `;
                });
            } else {
                q.options.forEach((option, i) => {
                    html += `
                        <label class="quiz-option" onclick="selectSingleChoice(this, ${i})">
                            <input type="radio" name="q${index}" value="${i}" style="display:none;">
                            ${option}
                        </label>
                    `;
                });
            }

            html += `</div>`;
            content.innerHTML = html;
            
            console.log('Question loaded successfully');

            // Update progress
            const currentQEl = document.getElementById('currentQ');
            const totalQEl = document.getElementById('totalQ');
            if (currentQEl) currentQEl.textContent = index + 1;
            if (totalQEl) totalQEl.textContent = quizQuestions.length;
            
            const progressBar = document.getElementById('progressBar');
            if (progressBar) {
                progressBar.style.width = ((index + 1) / quizQuestions.length * 100) + '%';
            }

            // Update button
            const btn = document.getElementById('nextBtn');
            if (btn) {
                btn.textContent = index === quizQuestions.length - 1 ? 'Complete Quiz' : 'Next Question';
                btn.disabled = true;
            }
        }

        function selectSingleChoice(label, value) {
            // Remove selected class from all options
            document.querySelectorAll('.quiz-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            // Add selected class to clicked option
            label.classList.add('selected');
            // Enable next button
            document.getElementById('nextBtn').disabled = false;
            // Save answer
            userAnswers[currentQuestion] = [value];
        }

        function handleMultipleChoice() {
            const checked = document.querySelectorAll('input[type="checkbox"]:checked');
            document.getElementById('nextBtn').disabled = checked.length === 0;
            
            // Save answers
            userAnswers[currentQuestion] = Array.from(checked).map(cb => parseInt(cb.value));
        }

        function nextQuestion() {
            currentQuestion++;
            loadQuestion(currentQuestion);
        }

        function openQuiz() {
            document.getElementById('stage3').classList.add('hidden');
            document.getElementById('stage4').classList.remove('hidden');
            currentQuestion = 0;
            userAnswers = [];
            
            // Small delay to ensure DOM is ready
            setTimeout(() => {
                loadQuestion(0);
            }, 100);
        }

        function openCampaign() {
            document.getElementById('campaignModal').classList.add('active');
        }

        function closeCampaign() {
            document.getElementById('campaignModal').classList.remove('active');
            // Reset to stage 1
            document.getElementById('stage1').classList.remove('hidden');
            document.getElementById('stage2').classList.add('hidden');
            document.getElementById('stage3').classList.add('hidden');
            document.getElementById('stage4').classList.add('hidden');
            document.getElementById('stage5').classList.add('hidden');
            document.getElementById('missingItem').classList.remove('fade-out');
        }

        document.getElementById('missingItem').addEventListener('click', function() {
            this.classList.add('fade-out');
            setTimeout(() => {
                document.getElementById('stage1').classList.add('hidden');
                document.getElementById('stage2').classList.remove('hidden');
            }, 800);
        });

        function showComparison() {
            document.getElementById('stage2').classList.add('hidden');
            document.getElementById('stage3').classList.remove('hidden');
        }

        function openQuiz() {
            document.getElementById('stage3').classList.add('hidden');
            document.getElementById('stage4').classList.remove('hidden');
        }

        function completeQuiz() {
            campaignPoints = 500;
            mainPoints += 500;
            
            document.getElementById('modalPoints').textContent = campaignPoints + ' pts';
            document.querySelector('.points-total').innerHTML = 
                mainPoints.toLocaleString() + '<span style="font-size: 20px; font-weight: normal;">pts</span>';
            document.querySelector('.redeemable').innerHTML = 
                'üíé Redeemable value $' + Math.floor(mainPoints / 1000);
            
            document.getElementById('stage4').classList.add('hidden');
            document.getElementById('stage5').classList.remove('hidden');
        }

        function downloadChecklist() {
            const content = `PC OPTIMUM - MEMORY HEALTH CHECKLIST
=====================================
#KnowYourList

SIGNS TO DISCUSS WITH YOUR DOCTOR:
----------------------------------
‚òê Forgetting recently learned information
‚òê Difficulty planning or solving problems
‚òê Trouble completing familiar tasks
‚òê Confusion with time or place
‚òê Problems with visual images or spatial relationships
‚òê New problems with words in speaking or writing
‚òê Misplacing things and losing ability to retrace steps
‚òê Decreased or poor judgment
‚òê Withdrawal from work or social activities
‚òê Changes in mood and personality

NEXT STEPS:
-----------
‚òê Schedule appointment with primary care physician
‚òê Keep a journal of memory concerns
‚òê Share this checklist with family members

IMPORTANT: This is not a diagnostic tool. 
Please consult with a healthcare professional.

Saved from PC Optimum #KnowYourList Campaign`;

            const blob = new Blob([content], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'memory_health_checklist.txt';
            a.click();
            window.URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>